{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div id="sync-list">
        {% for config in configs %}
        {% include 'partials/sync_card.html' %}
        {% endfor %}
    </div>

    <div class="text-center mt-8 mb-12">
        <button hx-get="/filesync/add" hx-target="#sync-list" hx-swap="beforeend"
            class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow transition duration-200 flex items-center justify-center mx-auto gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd"
                    d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                    clip-rule="evenodd" />
            </svg>
            Add New Sync Task
        </button>
    </div>

    <div class="border-t pt-8 text-center flex items-center justify-center gap-4">
        <button type="button" class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded"
            hx-post="/server/restart" hx-confirm="ì„œë²„ë¥¼ ì¬ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì‹¤í–‰ ì¤‘ì¸ ì‘ì—…ì´ ì ê¹ ì¤‘ë‹¨ë©ë‹ˆë‹¤." hx-swap="none"
            hx-on:htmx:after-request="alert('ì„œë²„ê°€ ì¬ì‹œì‘ë©ë‹ˆë‹¤. ì ì‹œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.'); setTimeout(() => window.location.reload(), 1500);">
            ğŸ” Server Restart
        </button>
        <button type="button" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded"
            hx-post="/server/shutdown" hx-confirm="ì„œë²„ë¥¼ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  ì‘ì—…ì´ ì¤‘ì§€ë©ë‹ˆë‹¤." hx-swap="none"
            hx-on:htmx:after-request="alert('ì„œë²„ê°€ ì¢…ë£Œë©ë‹ˆë‹¤.'); setTimeout(() => window.location.reload(), 1000);">
            ğŸš« Server Shutdown
        </button>
    </div>
</div>
{% endblock %}